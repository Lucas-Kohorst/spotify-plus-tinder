{"version":3,"sources":["./src/app/tab1/tab1.page.html","./node_modules/uid/dist/index.mjs","./src/app/tab1/tab1.module.ts","./src/app/tab1/tab1.page.scss","./src/app/tab1/tab1.page.ts"],"names":[],"mappings":"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","file":"tab1-tab1-module-es2015.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n    <ion-toolbar>\\n        <ion-title>\\n            Playlists\\n        </ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <div *ngIf=\\\"playlists.length > 0\\\">\\n        <div class=\\\"custom-card-deck\\\">\\n            <ion-list>\\n                <ion-item *ngFor=\\\"let playlist of playlists; let i = index\\\">\\n                    <ion-card class=\\\"custom-card\\\" *ngIf=\\\"i == currentPlaylist\\\" style=\\\"width:100%; margin: 0 auto;\\\">\\n                        <ion-card-header>\\n                            <ion-card-title>Playlist #{{playlists.length - i}}</ion-card-title>\\n                        </ion-card-header>\\n                        <ion-card-content>\\n                            <ul>\\n                                <div *ngFor=\\\" let song of playlist.songs \\\" style=\\\"list-style-type: none; \\\">\\n                                    <li>\\n                                        <ion-card>\\n                                            <ion-item>\\n                                                <ion-thumbnail style=\\\"padding: 0.75em; \\\">\\n                                                    <img src=\\\"{{song.songImg}} \\\" />\\n                                                </ion-thumbnail>\\n                                                <ion-label>{{ song.songName }}</ion-label>\\n                                                <ion-button fill=\\\"outline\\\" slot=\\\"end\\\" (click)=\\\"openSong(song.audio) \\\">Listen</ion-button>\\n                                            </ion-item>\\n                                        </ion-card>\\n                                    </li>\\n                                </div>\\n                                <ion-card>\\n                                    <ion-button expand=\\\"block \\\" (click)=\\\"dislike() \\\" color=\\\"danger \\\">Dislike</ion-button>\\n                                    <ion-button expand=\\\"block \\\" (click)=\\\"like(i) \\\" color=\\\"success \\\">Like</ion-button>\\n                                </ion-card>\\n                            </ul>\\n                        </ion-card-content>\\n                    </ion-card>\\n                </ion-item>\\n            </ion-list>\\n        </div>\\n    </div>\\n    <div *ngIf=\\\"playlists.length==0\\\" style=\\\"margin-top: 2em;\\\" class=\\\"center\\\">\\n        <h3 class=\\\"center \\\">The app will redirect you automatically, but if it doesn't head to settings</h3>\\n        <p class=\\\"center \\\">If that doesn't work head to api.spotify.com get a bearer token from the playground, enter it in settings, and refresh</p>\\n    </div>\\n</ion-content>\"","var IDX=36, HEX='';\nwhile (IDX--) HEX += IDX.toString(36);\n\nexport default function (len) {\n\tvar str='', num = len || 11;\n\twhile (num--) str += HEX[Math.random() * 36 | 0];\n\treturn str;\n}\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab1Page } from './tab1.page';\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\nimport { HttpClientModule, HttpClientJsonpModule } from '@angular/common/http';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ExploreContainerComponentModule,\n    FormsModule,\n    HttpClientModule,\n    HttpClientJsonpModule,\n    RouterModule.forChild([{ path: '', component: Tab1Page }])\n  ],\n  declarations: [Tab1Page]\n})\nexport class Tab1PageModule {}\n","export default \"ion-content ion-toolbar {\\n  --background: translucent;\\n}\\n\\n.custom-card-deck {\\n  margin: 1em 0;\\n}\\n\\n.custom-card-deck .mbsc-lv-sl-c {\\n  max-width: 500px;\\n  margin: 0 auto;\\n}\\n\\n.custom-card-deck .mbsc-lv-v {\\n  padding-top: 88%;\\n  min-height: 390px;\\n}\\n\\n.custom-card-deck .mbsc-lv-item {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n}\\n\\n.custom-card-deck .mbsc-lv-item.mbsc-lv-item-swiping {\\n  z-index: 10;\\n}\\n\\n.custom-card-deck .custom-card-rotate-right {\\n  transform: rotate(1deg);\\n}\\n\\n.custom-card-deck .custom-card-rotate-left {\\n  transform: rotate(-2deg);\\n}\\n\\n.custom-card-deck .mbsc-card.custom-card {\\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\\n}\\n\\nion-content ion-toolbar {\\n  --background: translucent;\\n}\\n\\n.center {\\n  width: 50%;\\n  margin: 0 auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9sdWNhc2tvaG9yc3QvRGVza3RvcC9GaWxlcy9TcHJpbmcyMDIwL0ZvdW5kYXRpb25zT2ZNb2JpbGVEZXNpZ24vUHJvamVjdDQvc3JjL2FwcC90YWIxL3RhYjEucGFnZS5zY3NzIiwic3JjL2FwcC90YWIxL3RhYjEucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0kseUJBQUE7QUNDSjs7QURFQTtFQUNJLGFBQUE7QUNDSjs7QURFQTtFQUNJLGdCQUFBO0VBQ0EsY0FBQTtBQ0NKOztBREVBO0VBQ0ksZ0JBQUE7RUFDQSxpQkFBQTtBQ0NKOztBREVBO0VBQ0ksa0JBQUE7RUFDQSxNQUFBO0VBQ0EsT0FBQTtFQUNBLFFBQUE7QUNDSjs7QURFQTtFQUNJLFdBQUE7QUNDSjs7QURFQTtFQUNJLHVCQUFBO0FDQ0o7O0FERUE7RUFDSSx3QkFBQTtBQ0NKOztBREVBO0VBQ0ksK0dBQUE7QUNDSjs7QURFQTtFQUNJLHlCQUFBO0FDQ0o7O0FERUE7RUFDSSxVQUFBO0VBQ0EsY0FBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvdGFiMS90YWIxLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb250ZW50IGlvbi10b29sYmFyIHtcbiAgICAtLWJhY2tncm91bmQ6IHRyYW5zbHVjZW50O1xufVxuXG4uY3VzdG9tLWNhcmQtZGVjayB7XG4gICAgbWFyZ2luOiAxZW0gMDtcbn1cblxuLmN1c3RvbS1jYXJkLWRlY2sgLm1ic2MtbHYtc2wtYyB7XG4gICAgbWF4LXdpZHRoOiA1MDBweDtcbiAgICBtYXJnaW46IDAgYXV0bztcbn1cblxuLmN1c3RvbS1jYXJkLWRlY2sgLm1ic2MtbHYtdiB7XG4gICAgcGFkZGluZy10b3A6IDg4JTtcbiAgICBtaW4taGVpZ2h0OiAzOTBweDtcbn1cblxuLmN1c3RvbS1jYXJkLWRlY2sgLm1ic2MtbHYtaXRlbSB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICBsZWZ0OiAwO1xuICAgIHJpZ2h0OiAwO1xufVxuXG4uY3VzdG9tLWNhcmQtZGVjayAubWJzYy1sdi1pdGVtLm1ic2MtbHYtaXRlbS1zd2lwaW5nIHtcbiAgICB6LWluZGV4OiAxMDtcbn1cblxuLmN1c3RvbS1jYXJkLWRlY2sgLmN1c3RvbS1jYXJkLXJvdGF0ZS1yaWdodCB7XG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMWRlZyk7XG59XG5cbi5jdXN0b20tY2FyZC1kZWNrIC5jdXN0b20tY2FyZC1yb3RhdGUtbGVmdCB7XG4gICAgdHJhbnNmb3JtOiByb3RhdGUoLTJkZWcpO1xufVxuXG4uY3VzdG9tLWNhcmQtZGVjayAubWJzYy1jYXJkLmN1c3RvbS1jYXJkIHtcbiAgICBib3gtc2hhZG93OiAwIDJweCAycHggMCByZ2JhKDAsIDAsIDAsIC4xNCksIDAgM3B4IDFweCAtMnB4IHJnYmEoMCwgMCwgMCwgLjIpLCAwIDFweCA1cHggMCByZ2JhKDAsIDAsIDAsIC4xMik7XG59XG5cbmlvbi1jb250ZW50IGlvbi10b29sYmFyIHtcbiAgICAtLWJhY2tncm91bmQ6IHRyYW5zbHVjZW50O1xufVxuXG4uY2VudGVyIHtcbiAgICB3aWR0aDogNTAlO1xuICAgIG1hcmdpbjogMCBhdXRvO1xufSIsImlvbi1jb250ZW50IGlvbi10b29sYmFyIHtcbiAgLS1iYWNrZ3JvdW5kOiB0cmFuc2x1Y2VudDtcbn1cblxuLmN1c3RvbS1jYXJkLWRlY2sge1xuICBtYXJnaW46IDFlbSAwO1xufVxuXG4uY3VzdG9tLWNhcmQtZGVjayAubWJzYy1sdi1zbC1jIHtcbiAgbWF4LXdpZHRoOiA1MDBweDtcbiAgbWFyZ2luOiAwIGF1dG87XG59XG5cbi5jdXN0b20tY2FyZC1kZWNrIC5tYnNjLWx2LXYge1xuICBwYWRkaW5nLXRvcDogODglO1xuICBtaW4taGVpZ2h0OiAzOTBweDtcbn1cblxuLmN1c3RvbS1jYXJkLWRlY2sgLm1ic2MtbHYtaXRlbSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICByaWdodDogMDtcbn1cblxuLmN1c3RvbS1jYXJkLWRlY2sgLm1ic2MtbHYtaXRlbS5tYnNjLWx2LWl0ZW0tc3dpcGluZyB7XG4gIHotaW5kZXg6IDEwO1xufVxuXG4uY3VzdG9tLWNhcmQtZGVjayAuY3VzdG9tLWNhcmQtcm90YXRlLXJpZ2h0IHtcbiAgdHJhbnNmb3JtOiByb3RhdGUoMWRlZyk7XG59XG5cbi5jdXN0b20tY2FyZC1kZWNrIC5jdXN0b20tY2FyZC1yb3RhdGUtbGVmdCB7XG4gIHRyYW5zZm9ybTogcm90YXRlKC0yZGVnKTtcbn1cblxuLmN1c3RvbS1jYXJkLWRlY2sgLm1ic2MtY2FyZC5jdXN0b20tY2FyZCB7XG4gIGJveC1zaGFkb3c6IDAgMnB4IDJweCAwIHJnYmEoMCwgMCwgMCwgMC4xNCksIDAgM3B4IDFweCAtMnB4IHJnYmEoMCwgMCwgMCwgMC4yKSwgMCAxcHggNXB4IDAgcmdiYSgwLCAwLCAwLCAwLjEyKTtcbn1cblxuaW9uLWNvbnRlbnQgaW9uLXRvb2xiYXIge1xuICAtLWJhY2tncm91bmQ6IHRyYW5zbHVjZW50O1xufVxuXG4uY2VudGVyIHtcbiAgd2lkdGg6IDUwJTtcbiAgbWFyZ2luOiAwIGF1dG87XG59Il19 */\"","/* Import Mobiscroll from the package */\nimport { Component } from '@angular/core';\nimport uid from 'uid';\n\ndeclare var window: any;\n\ninterface Playlist {\n  title: string,\n  songs: string[],\n  uris: string[]\n}\n\n@Component({\n  selector: 'app-tab1',\n  templateUrl: 'tab1.page.html',\n  styleUrls: ['tab1.page.scss']\n})\nexport class Tab1Page {\n\n  title: string;\n  playlists: Playlist[];\n  token: string;\n  currentPlaylist: number;\n  numberOf: number;\n\n  constructor() {\n    this.title = 'Playlist';\n    this.numberOf = 5;\n    localStorage.setItem('numberOf', this.numberOf.toString())\n    // If there is no token spotify has not been authorized see\n    // https://developer.spotify.com/documentation/general/guides/authorization-guide/\n    let client_id = '09c3de4367db49458cb1791f6187ef34'\n    console.log(location.href)\n    if (location.href.split('access_token=')[1] != undefined) {\n      localStorage.setItem('token', location.href.split('access_token=')[1].split('&')[0]);\n    }\n    if (!localStorage.getItem('token')) {\n      // window.cordova.InAppBrowser.open('https://accounts.spotify.com/authorize?client_id=' + client_id + '&redirect_uri=http://localhost:8100/tabs/tab1&scope=user-library-modify%20playlist-modify-public%20user-top-read%20user-library-read&response_type=token', '_blank', 'location=yes')\n      var win = window.open(\"https://accounts.spotify.com/authorize?client_id=' + client_id + '&redirect_uri=http://localhost:8100/tabs/tab1&scope=user-library-modify%20playlist-modify-public%20user-top-read%20user-library-read&response_type=token\", \"_blank\", \"EnableViewPortScale=yes\");\n      win.addEventListener(\"loadstop\", function () {\n        setTimeout(function () {\n          win.close();\n        }, 2500);\n      });\n      win.addEventListener(\"loadstop\", function () {\n        win.executeScript(\n          { code: \"localStorage.setItem('token', location.href.split('access_token=')[1].split('&')[0]);\" },\n        );\n      });\n    }\n    this.playlists = []\n    // Used to only show current playlist\n    this.currentPlaylist = 0;\n  }\n\n  dislike() {\n    // If the user dislikes the playlist go to the next\n    this.currentPlaylist += 1\n    window.scrollTo(0, 0)\n  }\n\n  like(counter) {\n    // Setting which playlist numbers are liked\n    if (localStorage.getItem('likedPlaylists')) {\n      let list = JSON.parse(localStorage.getItem('likedPlaylists')).list\n      // Get id for number\n      let id = localStorage.getItem('id-' + counter)\n      list.push(id)\n      let numberOf = {\n        list: list\n      }\n      localStorage.setItem('likedPlaylists', JSON.stringify(numberOf))\n    } else {\n      var list = []\n      // Get id for number\n      let id = localStorage.getItem('id-' + counter)\n      list.push(id)\n      let numberOf = {\n        list: list\n      }\n      localStorage.setItem('likedPlaylists', JSON.stringify(numberOf))\n    }\n    // If the user likes the playlist post it and go to success screen\n    // POSTING\n    // Get username\n    fetch(\"https://api.spotify.com/v1/me\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${localStorage.getItem('token')}`,\n      },\n    })\n      .then((response) => {\n        return response.json();\n      })\n      .then(data => {\n        let user_id = data.id\n        let endpoint_url = `https://api.spotify.com/v1/users/${user_id}/playlists`\n        let request_body = JSON.stringify({\n          \"name\": \"Generated Playlist\",\n          \"description\": \"Playlist generated by Spotify Playlist Generator at https://github.com/Lucas-Kohorst/spotify-generator\",\n          \"public\": true\n        })\n        fetch(endpoint_url, {\n          method: \"POST\",\n          body: request_body,\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${localStorage.getItem('token')}`,\n          },\n        })\n          .then((response) => {\n            return response.json();\n          })\n          .then((data) => {\n            console.log(\"Posted adding songs\")\n            let url = data[\"external_urls\"][\"spotify\"];\n            let playlist_id = data[\"id\"];\n\n            let endpoint_url = `https://api.spotify.com/v1/playlists/${playlist_id}/tracks`;\n\n            let request_body = JSON.stringify({\n              uris: localStorage.getItem('uris-' + counter).split(\",\"),\n            });\n\n            fetch(endpoint_url, {\n              method: \"POST\",\n              body: request_body,\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: `Bearer ${localStorage.getItem('token')}`,\n              },\n            })\n              .then((response) => {\n                return response.json();\n              })\n              .then((data) => {\n                console.log(data);\n                console.log(`Your playlist is ready at ${url}`);\n                window.cordova.InAppBrowser(url, '_blank', 'location=yes')\n              });\n          });\n      })\n  }\n\n  ngOnInit() {\n    async function getPlaylist(token) {\n      console.log(token)\n      return new Promise(async (res, err) => {\n        let endpoint_url =\n          \"https://api.spotify.com/v1/recommendations?\";\n        let user_id = \"lucaskohorst25\";\n\n        let limit = 50;\n        let market = \"US\";\n        let target_danceability = 0.9;\n        let uris = [];\n\n        // Getting a completely random genre\n        let randomGenres = await fetch(\n          \"https://api.spotify.com/v1/recommendations/available-genre-seeds\", {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n          },\n        }\n        );\n        randomGenres = await randomGenres.json();\n        let seed_genres =\n          randomGenres[\"genres\"][\n          Math.floor(\n            Math.random() *\n            randomGenres[\"genres\"].length\n          )\n          ];\n\n        // Getting one of your top artists randomly\n        let topArtists = await fetch(\n          \"https://api.spotify.com/v1/me/top/artists\", {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n          },\n        }\n        );\n        topArtists = await topArtists.json();\n        let seed_artists =\n          topArtists[\"items\"][\n            Math.floor(\n              Math.random() *\n              topArtists[\"items\"].length\n            )\n          ].id;\n\n        // Getting one of your top songs randomly\n        let topSongs = await fetch(\n          \"https://api.spotify.com/v1/me/top/tracks\", {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n          },\n        }\n        );\n        topSongs = await topSongs.json();\n        let seed_tracks =\n          topSongs[\"items\"][\n            Math.floor(\n              Math.random() *\n              topSongs[\"items\"].length\n            )\n          ].id;\n\n        let query = `${endpoint_url}limit=${limit}&market=${market}&seed_genres=${seed_genres}&target_danceability=${target_danceability}`;\n        // Optional Add seed seed_artists and seed_tracks\n        query =\n          query +\n          `&seed_artists=${seed_artists}`;\n        query =\n          query +\n          `&seed_tracks=${seed_tracks}`;\n        console.log(query);\n\n        let songs = await fetch(query, {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n          },\n        });\n        songs = await songs.json();\n\n        let tracks = [];\n        songs[\"tracks\"].forEach((song) => {\n          tracks.push({\n            songName: song.name + \" - \" + song.album.artists[0].name,\n            songImg: song.album.images[0].url,\n            audio: song.external_urls.spotify\n          });\n          uris.push(song.uri)\n        });\n\n        // Return Songs to display as cards\n        res([{\n          title: \"Playlist\",\n          songs: tracks,\n          uris: uris\n        },]);\n      });\n    };\n    for (let i = 0; i < Number(localStorage.getItem('numberOf')); i++) {\n      getPlaylist(localStorage.getItem('token')).then((response: Playlist[]) => {\n        response.forEach((playlist: Playlist) => {\n          let id = uid();\n          this.playlists.push(playlist)\n          localStorage.setItem('uris-' + i, playlist.uris.toString())\n          localStorage.setItem('id-' + i, id)\n          localStorage.setItem('playlist-' + id, JSON.stringify(playlist))\n        })\n      })\n    }\n  }\n\n  openSong(song) {\n    window.cordova.InAppBrowser(song, '_blank')\n  }\n}"],"sourceRoot":"webpack:///"}